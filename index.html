<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width,initial-scale=1" name="viewport" />
  <title>Sraddha — My Heart Beats for you!</title>

  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Dancing+Script:wght@500;700&family=Google+Sans:wght@400;500;700&display=swap" rel="stylesheet"/>

  <style>
    :root {
      --bg: #fff;
      --card: #ffe4ec;
      --accent: #ff69b4;
      --muted: #b85c7e;
    }

    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Quicksand', sans-serif;
      overflow: hidden;
    }

    body {
      background: linear-gradient(180deg, var(--bg), #ffdce5);
      color: #5a0033;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
    }

    .wrap {
      width: 100%;
      max-width: 1200px;
      height: 100%;
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.6));
      border: 1px solid rgba(255, 192, 203, 0.4);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 6px 30px rgba(255, 182, 193, 0.4);
      display: flex;
      flex-direction: column;
      overflow: hidden;
      box-sizing: border-box;
    }

    h1 {
      font-size: 22px;
      margin: 0;
      text-align: center;
      color: #b03a64;
      font-family: 'Google Sans', sans-serif;
    }

    .count {
      font-size: 42px;
      font-weight: 700;
      text-align: center;
      margin-top: 8px;
      margin-bottom: 16px;
      word-break: break-word;
      color: #cc2b5e;
      font-family: 'Google Sans', sans-serif;
    }

    .ticker {
      flex: 1;
      width: 100%;
      background: rgba(255, 255, 255, 0.6);
      border-radius: 10px;
      padding: 60px 14px 14px;
      overflow: hidden;
      border: 1px solid rgba(255, 182, 193, 0.4);
      box-sizing: border-box;
      display: flex;
      flex-wrap: wrap;
      align-content: flex-start;
      justify-content: flex-start;
      position: relative;
    }

    .ticker::before {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 60px;
      background: linear-gradient(to bottom, rgba(255,182,193,0.8), transparent);
      pointer-events: none;
    }

    .word {
      font-weight: 700;
      font-size: 28px;
      display: inline-block;
      padding: 6px 10px;
      border-radius: 8px;
      margin: 6px 4px;
      opacity: 0;
      transform: translateY(6px);
      animation: pop .6s forwards;
      flex: 0 0 auto;
      color: #ff1493;
      font-family: 'Dancing Script', cursive;
    }

    @keyframes pop {
      0% { opacity: 0; transform: translateY(6px) scale(0.98); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }

    .word.recent {
      box-shadow: 0 6px 18px rgba(255, 105, 180, 0.25);
      background: linear-gradient(90deg, rgba(255, 182, 193, 0.4), rgba(255, 192, 203, 0.3));
    }

    .footer {
      font-size: 13px;
      color: var(--muted);
      text-align: center;
      padding-top: 10px;
      border-top: 1px solid rgba(255, 192, 203, 0.4);
      margin-top: 10px;
      font-family: 'Quicksand', sans-serif;
    }

    @media (max-width:768px) {
      .word {
        font-size: 22px;
        padding: 4px 8px;
        margin: 4px 3px;
      }
      .count {
        font-size: 32px;
      }
    }
  </style>

  <!-- Meta + SEO -->
  <meta name="description" content="Sraddha — a serene web experience that endlessly prints a message of love, devotion, and heartbeat in pink hues." />
  <meta name="keywords" content="Sraddha, love, devotion, heartbeat, romantic website, beautiful animation, art project" />
  <meta name="author" content="@cyberhimself" />
  <meta name="robots" content="index, follow" />
  <meta name="theme-color" content="#fff0f5" />
  <meta property="og:title" content="Sraddha — My Heart Beats for You!" />
  <meta property="og:description" content="A living page that prints love infinitely — an expression of devotion and beauty." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://sraddha.linkpc.net/" />
  <meta property="og:image" content="https://sraddha.linkpc.net/favicon.png" />
  <meta name="twitter:card" content="summary_large_image" />

  <link rel="icon" href="/favicon.png" type="image/png" />
  <link rel="apple-touch-icon" href="/favicon.png" />
  <link rel="manifest" href="/site.webmanifest" />
</head>

<body>
  <div class="wrap">
    <h1>With every heartbeat, it whispers your name!</h1>
    <div class="count" id="countDisplay">0</div>
    <div class="ticker" id="ticker" aria-live="polite"></div>
    <div class="footer">© 2025 Sraddha. Crafted with ❤️ by @cyberhimself.</div>
  </div>

  <!-- ✅ Firebase Modular Setup -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
    import { getDatabase, ref, onValue, set } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDTMmp3uxBxSLsplw7g18_XaBKpH3H2EQc",
      authDomain: "sraddha-57986.firebaseapp.com",
      projectId: "sraddha-57986",
      storageBucket: "sraddha-57986.firebasestorage.app",
      messagingSenderId: "594698203217",
      appId: "1:594698203217:web:bd264b9365c10349720870",
      measurementId: "G-6WCJV50138",
      databaseURL: "https://sraddha-57986-default-rtdb.firebaseio.com/"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const countRef = ref(db, "count");

    const ticker = document.getElementById("ticker");
    const countDisplay = document.getElementById("countDisplay");
    const WORD = "Sraddha";
    const PER_MIN = 72;
    const INTERVAL_MS = 60000 / PER_MIN;
    const MAX_NODES = 300;
    let printedCount = 183000000n;

    function formatCount(n) {
      return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }

    // Sync count from Firebase
    onValue(countRef, (snapshot) => {
      if (snapshot.exists()) {
        printedCount = BigInt(snapshot.val());
        countDisplay.textContent = formatCount(printedCount);
      }
    });

    function makeNode(text) {
      const el = document.createElement("div");
      el.className = "word recent";
      el.textContent = text;
      setTimeout(() => el.classList.remove("recent"), 600);
      return el;
    }

    function updateCount(value) {
      set(countRef, value.toString());
    }

    function printOne() {
      const node = makeNode(WORD);
      ticker.insertBefore(node, ticker.firstChild);
      printedCount++;
      countDisplay.textContent = formatCount(printedCount);
      updateCount(printedCount);
      while (ticker.childElementCount > MAX_NODES) ticker.removeChild(ticker.lastChild);
    }

    function loop() {
      printOne();
      setTimeout(loop, INTERVAL_MS);
    }

    loop();
  </script>
</body>
</html>
